{"version":3,"file":null,"sources":["../lib/index.js"],"sourcesContent":["import { Stream, getSource } from '@tempest/core';\nexport function map(f, stream) {\n    return new Stream(new Map(f, getSource(stream)));\n}\nexport class Map {\n    constructor(f, source) {\n        this.f = f;\n        this.source = source;\n    }\n    run(sink, scheduler) {\n        return this.source.run(new MapSink(this.f, sink), scheduler);\n    }\n}\nclass MapSink {\n    constructor(f, sink) {\n        this.f = f;\n        this.sink = sink;\n    }\n    event(time, value) {\n        const f = this.f;\n        this.sink.event(time, f(value));\n    }\n    error(time, err) {\n        this.sink.error(time, err);\n    }\n    end(time, value) {\n        this.sink.end(time, value);\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":["Stream","getSource"],"mappings":";;;;;;IACO,SAAS,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE;QAC3B,OAAO,IAAIA,oBAAM,CAAC,IAAI,GAAG,CAAC,CAAC,EAAEC,uBAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KACpD;AACD,AAAO,IAAA,IAAM,GAAG,GAAC,YACF,CAAC,CAAC,EAAE,MAAM,EAAE;QACvB,IAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;QACf,IAAQ,CAAC,MAAM,GAAG,MAAM,CAAC;AAC7B,IAAA,CAAK,CAAA;AACL,IAAA,cAAI,GAAG,iBAAC,IAAI,EAAE,SAAS,EAAE;QACrB,OAAW,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,SAAS,CAAC,CAAC;AACrE,IAAA,CAAK,CAAA;AAEL,IAAA,IAAM,OAAO,GAAC,gBACC,CAAC,CAAC,EAAE,IAAI,EAAE;QACrB,IAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;QACf,IAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;AACzB,IAAA,CAAK,CAAA;AACL,IAAA,kBAAI,KAAK,mBAAC,IAAI,EAAE,KAAK,EAAE;QACnB,IAAU,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QACrB,IAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AACxC,IAAA,CAAK,CAAA;AACL,IAAA,kBAAI,KAAK,mBAAC,IAAI,EAAE,GAAG,EAAE;QACjB,IAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AACnC,IAAA,CAAK,CAAA;AACL,IAAA,kBAAI,GAAG,iBAAC,IAAI,EAAE,KAAK,EAAE;QACjB,IAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AACnC,IAAA,CAAK,CAAA;;;;;;;"}