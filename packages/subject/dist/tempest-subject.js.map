{"version":3,"file":null,"sources":["../lib/index.js"],"sourcesContent":["import { Stream, defaultScheduler, PropagateTask } from '@tempest/core';\n/**\n * Takes a Stream and 'upgrades' it to a Subject\n *\n * @export\n * @template T\n * @param {Stream<T>} stream\n * @returns {Subject<T>}\n * @example\n * import { never } from '@tempest/never'\n * import { asSubject } from '@tempest/subject'\n *\n * const subject = asSubject(never())\n *\n * subject.subscribe(x => console.log(x)) // 1, 2, 3\n *\n * subject.next(1)\n * subject.next(2)\n * subject.next(3)\n * subject.complete()\n */\nexport function asSubject(stream) {\n    return new Subject(stream.source);\n}\nexport class Subject extends Stream {\n    constructor(source) {\n        super(source);\n    }\n    next(value) {\n        defaultScheduler.asap(PropagateTask.event(value, this.source));\n    }\n    error(err) {\n        defaultScheduler.asap(PropagateTask.error(err, this.source));\n    }\n    complete(value) {\n        defaultScheduler.asap(PropagateTask.end(value, this.source));\n    }\n}\n//# sourceMappingURL=index.js.map"],"names":["super","defaultScheduler","PropagateTask","Stream"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,AAAO,IAAA,SAAS,SAAS,CAAC,MAAM,EAAE;QAC9B,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KACrC;AACD,AAAO,IAAA,IAAM,OAAO,GAAe;QAAC,gBACrB,CAAC,MAAM,EAAE;YAChBA,MAAK,KAAA,CAAC,MAAA,MAAM,CAAC,CAAC;SACjB;;;;gDAAA;QACD,kBAAA,IAAI,kBAAC,KAAK,EAAE;YACRC,8BAAgB,CAAC,IAAI,CAACC,2BAAa,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;SAClE,CAAA;QACD,kBAAA,KAAK,mBAAC,GAAG,EAAE;YACPD,8BAAgB,CAAC,IAAI,CAACC,2BAAa,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;SAChE,CAAA;QACD,kBAAA,QAAQ,sBAAC,KAAK,EAAE;YACZD,8BAAgB,CAAC,IAAI,CAACC,2BAAa,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;SAChE,CAAA;;;MAZwBC,oBAa5B,GAAA;;;;;;;"}